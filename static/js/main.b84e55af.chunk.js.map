{"version":3,"sources":["firebase.js","components/BaseMsg.js","components/ChatRoom.js","App.js","reportWebVitals.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","BaseMsg","message","localUser","localStorage","getItem","userName","className","msg","ChatRoom","arr","dummy","useRef","useState","msgs","setMsgs","inputText","setInputText","event","a","preventDefault","addDoc","collection","db","createdOn","Date","now","current","scrollIntoView","behavior","useEffect","onSnapshot","query","snapshot","messages","forEach","snap","push","data","id","sort","b","map","ref","onSubmit","value","onChange","e","target","placeholder","type","App","name","setName","clear","setItem","console","warn","htmlFor","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b84e55af.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\"\nimport { getFirestore } from \"firebase/firestore\";\n\nconst app = initializeApp( {\n  apiKey: \"AIzaSyBnslC8pmE0HIRgq0xl4EdHPkVyhU_fT-0\",\n  authDomain: \"react-86446.firebaseapp.com\",\n  projectId: \"react-86446\",\n  storageBucket: \"react-86446.appspot.com\",\n  messagingSenderId: \"546097945831\",\n  appId: \"1:546097945831:web:8c85fc8fc4bbb2ea0ed642\",\n  measurementId: \"G-R2N6DD277Q\"\n} )\n\n\nexport default getFirestore( app )","\nfunction BaseMsg ( { message } ) {\n  const localUser = localStorage.getItem( \"name\" ) === message.userName\n\n  return (\n    <div className={`${localUser ? \"self-end\" : \"self-start\"} text-left block my-4`}>\n      {!localUser &&\n        <p className=\"m-2 text-gray-50\">{message.userName}</p>}\n      <p className={`${localUser ? \"bg-blue-500 text-white\" : \"bg-gray-50\"} p-4 rounded-lg text-md max-w-20 shadow-lg max-w-sm`} >{message.msg}</p>\n    </div>\n  )\n}\n\nexport default BaseMsg\n","import { addDoc, collection, onSnapshot, query } from \"firebase/firestore\"\nimport React, { useEffect, useRef, useState } from 'react'\nimport db from \"../firebase\"\nimport Message from \"./BaseMsg\"\n\nfunction ChatRoom () {\n  const dummy = useRef()\n  const [msgs, setMsgs] = useState( [] )\n  const [inputText, setInputText] = useState( \"\" )\n\n\n  useEffect( () => {\n    onSnapshot( query( collection( db, \"messages\" ) ), snapshot => {\n      const messages = []\n      snapshot.forEach( snap => {\n        messages.push( {\n          ...snap.data(),\n          id: snap.id\n        } )\n      } )\n      setMsgs( messages )\n    } )\n  }, [] )\n\n\n  async function sendMessage ( event ) {\n    event.preventDefault()\n    if ( !inputText ) return\n    setInputText( \"\" )\n    await addDoc( collection( db, \"messages\" ), {\n      userName: localStorage.getItem( \"name\" ),\n      msg: inputText,\n      createdOn: Date.now()\n    } )\n    dummy.current.scrollIntoView( { behavior: 'smooth' } )\n  }\n\n\n  function SortByDate ( arr ) {\n    return arr.sort( ( a, b ) => a.createdOn < b.createdOn ? -1 : 1 )\n  }\n\n  return (\n    <div className=\"w-full\">\n      {/* Messages Container starts here */}\n      <div className=\"mx-5 flex flex-col overflow-y-scroll h-screen pb-44 sm:pb-36\">\n        {SortByDate( msgs ).map( msg => <Message message={msg} key={msg.id} /> )}\n        <span ref={dummy}></span>\n      </div>\n      \n      {/* Messages Container Ends here */}\n\n\n\n\n      {/* Input field starts here */}\n      <form onSubmit={sendMessage} className=\"bottom-0 right-0 left-0 flex bg-gray-200 mx-auto overflow-hidden sticky\">\n        <input value={inputText} onChange={( e ) => { setInputText( e.target.value ) }} placeholder=\"Type a message and press enter\" className=\"bg-transparent flex-1 p-3 text-lg outline-none\" type=\"text\" />\n        <button className=\"bg-purple-700 text-white px-5\">Send</button>\n      </form>\n      {/* Input field starts here */}\n    </div>\n  )\n}\n\nexport default ChatRoom\n","import { useState } from \"react\"\nimport ChatRoom from \"./components/ChatRoom\"\n\nfunction App () {\n  const [name, setName] = useState( \"\" )\n\n\n\n\n  function saveName ( event ) {\n    event.preventDefault()\n    if ( !name ) {\n      console.warn( \"Enter Name\" )\n      return\n    }\n    localStorage.clear()\n    localStorage.setItem( \"name\", name )\n    setName( \"\" )\n  }\n\n\n\n  return (\n    <div className=\"max-w-3xl bg-gray-800 mx-auto min-h-screen fixed inset-0\">\n      {/* Header Start Here */}\n      <header className=\"w-full text-center bg-purple-500 py-6  box-border top-0 left-0 right-0 z-10 sticky\">\n        {/* <header className=\"w-full flex justify-center items-center h-24 bg-purple-700\"> */}\n        <h1 className=\"text-white text-2xl cursor-pointer\">Chat Room</h1>\n      </header>\n      {/* Header Ends here */}\n\n      {/* Main Starts here */}\n      <main>\n      {localStorage.getItem( \"name\" ) ? <ChatRoom /> :\n          <div className=\"w-full h-screen flex justify-center items-center\">\n            <form onSubmit={saveName} className=\"bg-gray-200 shadow-lg rounded-lg flex flex-col p-10\">\n              <label className=\"ml-1\" htmlFor=\"name\">Enter Your Name here</label>\n              <input value={name} onChange={( e ) => { setName( e.target.value ) }} type=\"text\" id=\"name\" placeholder=\"E.g. Jawad Ali\" className=\"text-lg p-2 my-3 rounded-lg\" />\n              <button type=\"submit\" className=\"bg-green-600 p-2 rounded-lg text-white\">Save</button>\n            </form>\n          </div>\n        }\n      </main>\n      {/* Main Ends here */}\n    </div>\n  )\n}\n\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}